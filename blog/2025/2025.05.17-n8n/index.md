---

title: –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ n8n —á–µ—Ä–µ–∑ AEZA, Tailscale –∏ NGINX
tags: [self-hosting, proxy, docker, n8n, aeza, tailscale]
---

# üîÅ –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ n8n —á–µ—Ä–µ–∑ AEZA, Tailscale –∏ NGINX

> –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π –ª–æ–∫–∞–ª—å–Ω–æ, –ø—É–±–ª–∏–∫—É–π –±–µ–∑–æ–ø–∞—Å–Ω–æ ‚Äî –∏ –≤—Å—ë —ç—Ç–æ –±–µ–∑ –¥–æ—Ä–æ–≥–∏—Ö VPS.

---

## üì¶ –ß—Ç–æ —Ç–∞–∫–æ–µ n8n?

[`n8n`](https://n8n.io/) ‚Äî —ç—Ç–æ –º–æ—â–Ω–∞—è open-source –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏, —Å–æ–ø–æ—Å—Ç–∞–≤–∏–º–∞—è —Å Zapier, Make –∏–ª–∏ IFTTT, –Ω–æ —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –Ω–∞ —Å–≤–æ–µ–π —Å—Ç–æ—Ä–æ–Ω–µ.

### üí° –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

* 350+ –≥–æ—Ç–æ–≤—ã—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π (Telegram, Gmail, Notion, Discord –∏ –¥—Ä.)
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Webhook-–æ–≤, REST API, —Å–æ–±—ã—Ç–∏–π –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π
* –í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ JavaScript –ø—Ä—è–º–æ –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è—Ö
* –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥ (Docker, VPS, –∏–ª–∏ –¥–∞–∂–µ –ª–æ–∫–∞–ª—å–Ω—ã–π –ü–ö)
<!--truncate-->
![–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å n8n](./n8n.webp)

---

## üß∞ –ß—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å

* üíª **–õ–æ–∫–∞–ª—å–Ω—ã–π –ü–ö** ‚Äî —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º Docker –∏ `n8n`
* üåç **[A√©za](https://aeza.net/?ref=507375)** ‚Äî —Ö–æ—Å—Ç–∏–Ω–≥ (—Ä–µ–≥–∏–æ–Ω: Frankfurt, —Ç–∞—Ä–∏—Ñ: `Shared1`)
* üåê **–î–æ–º–µ–Ω** ‚Äî –∫—É–ø–ª–µ–Ω –Ω–∞ [A√©za](https://aeza.net/?ref=507375)
* üöº **[Tailscale](https://tailscale.com)** ‚Äî mesh-VPN –¥–ª—è —Å–≤—è–∑–∏ —Ö–æ—Å—Ç–∏–Ω–≥–∞ –∏ –ü–ö
* üîí **NGINX** + Let's Encrypt ‚Äî –¥–ª—è HTTPS-–ø—Ä–æ–∫—Å–∏

---

## üîí Tailscale: –ø—Ä–∏–≤–∞—Ç–Ω–∞—è —Å–µ—Ç—å

[Tailscale](https://tailscale.com) —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –±–∞–∑–µ WireGuard –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å mesh-—Å–µ—Ç—å –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏. –í—ã—Ö–æ–¥—ã –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —á–µ—Ä–µ–∑ VPN –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è ‚Äî –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫ –æ—Å—Ç–∞—ë—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ —Ç—É–Ω–Ω–µ–ª—è.

### ‚öôÔ∏è –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

* –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫ –±–µ–∑ –ø—Ä–æ–±—Ä–æ—Å–∞ –ø–æ—Ä—Ç–æ–≤
* P2P-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ACL, SSH, DNS, MagicDNS, subnet routers –∏ –ø—Ä.
* –ï—Å—Ç—å –≤–µ—Ä—Å–∏–∏ –ø–æ–¥ –≤—Å–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –û–°

> ‚ùå **–í–∞–∂–Ω–æ:** –í –†–§ –¥–æ—Å—Ç—É–ø –∫ Tailscale –æ–≥—Ä–∞–Ω–∏—á–µ–Ω ‚Äî —Å–∞–π—Ç –∏ –ø–∞–Ω–µ–ª—å –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è.

---

## üê≥ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ n8n –≤ Docker

```bash
docker run -d --name n8n --restart=always \
  -p 5678:5678 \
  -v n8n_data:/home/node/.n8n \
  -e N8N_HOST=your.domain.tld \
  -e N8N_PORT=5678 \
  -e N8N_PROTOCOL=https \
  -e WEBHOOK_URL=https://your.domain.tld/ \
  docker.n8n.io/n8nio/n8n
```

### –°–æ–≤–µ—Ç—ã:

* –£–±–µ–¥–∏—Å—å, —á—Ç–æ `WEBHOOK_URL` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–Ω–µ—à–Ω–µ–º—É –∞–¥—Ä–µ—Å—É
* –ò—Å–ø–æ–ª—å–∑—É–π volume –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

---

## üåê –ü—Ä–æ–∫—Å–∏ —á–µ—Ä–µ–∑ NGINX –Ω–∞ AEZA

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –ø—É–±–ª–∏—á–Ω—ã–º IP –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è NGINX, —á—Ç–æ–±—ã –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –∫ `n8n` –ø–æ Tailscale.

### –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥–∞:

```nginx
server {
    server_name your.domain.tld;
    listen 443 ssl http2;

    ssl_certificate /etc/letsencrypt/live/your.domain.tld/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/your.domain.tld/privkey.pem;

    location / {
        proxy_pass http://100.x.x.x:5678;

        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

> üìå IP –≤–∏–¥–∞ `100.x.x.x` ‚Äî —ç—Ç–æ –∞–¥—Ä–µ—Å –∏–∑ Tailscale-—Å–µ—Ç–∏, –≤—ã–¥–∞–µ—Ç—Å—è –∫–∞–∂–¥–æ–º—É –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É.

---

## üîê –ö–∞–∫ –æ—Ç–∫–ª—é—á–∏—Ç—å ECH –≤ Cloudflare

–ï—Å–ª–∏ —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Cloudflare, –æ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å **–Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –≤ –†–§** –∏–∑-–∑–∞ **ECH (Encrypted Client Hello)**. –í –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º —Ç–∞—Ä–∏—Ñ–µ –æ—Ç–∫–ª—é—á–∏—Ç—å ECH –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ API.

### ‚öñÔ∏è –ö–æ–º–∞–Ω–¥–∞:

```bash
curl -X PATCH "https://api.cloudflare.com/client/v4/zones/ID_ZONE/settings/ech" \
  -H "X-Auth-Key: YOUR_GLOBAL_API_KEY" \
  -H "X-Auth-Email: YOUR_EMAIL" \
  -H "Content-Type: application/json" \
  --data '{"id":"ech","value":"off"}'
```

### üß∞ –ì–¥–µ –≤–∑—è—Ç—å –¥–∞–Ω–Ω—ã–µ:

* `ID_ZONE` ‚Äî –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫–µ Overview –≤ –ø–∞–Ω–µ–ª–∏ Cloudflare
* `YOUR_GLOBAL_API_KEY` ‚Äî –≤ –ø—Ä–æ—Ñ–∏–ª–µ: API Tokens ‚Üí Global API Key ‚Üí View
* `YOUR_EMAIL` ‚Äî email –≤–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞:

–û—Ç–∫—Ä–æ–π:

```
https://dns.google/resolve?name=–í–ê–®_–°–ê–ô–¢&type=HTTPS
```

–ï—Å–ª–∏ –≤ –æ—Ç–≤–µ—Ç–µ –Ω–µ—Ç `ECH`, –∑–Ω–∞—á–∏—Ç –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ.

---

## üìü –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Tailscale

–ï—Å–ª–∏ Tailscale –≤–∞–º –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:

* [ZeroTier](https://www.zerotier.com/)
* [Nebula](https://github.com/slackhq/nebula)
* WireGuard —Å —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π

---

## ‚úÖ –í—ã–≤–æ–¥

–°–æ—á–µ—Ç–∞–Ω–∏–µ **[A√©za](https://aeza.net/?ref=507375)**, **[Tailscale](https://tailscale.com)** –∏ **[n8n](https://n8n.io/)** –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —É —Å–µ–±—è –¥–æ–º–∞ —Å –ø—É–±–ª–∏—á–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º –ø–æ HTTPS ‚Äî –ø—Ä–∏ —ç—Ç–æ–º –±–µ–∑ –∞—Ä–µ–Ω–¥—ã –¥–æ—Ä–æ–≥–æ–≥–æ VPS –∏ –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –∑–∞ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º–æ–π.

> –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ —É–¥–æ–±–µ–Ω –∫–∞–∫ –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —ç–Ω—Ç—É–∑–∏–∞—Å—Ç–æ–≤, —Ç–∞–∫ –∏ –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç –º–∞–∫—Å–∏–º—É–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏.
